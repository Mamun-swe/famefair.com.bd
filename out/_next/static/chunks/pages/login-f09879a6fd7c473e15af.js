(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{39496:function(e,n,r){"use strict";var s=r(85893),t=r(67294),o=r(33657);n.Z=function(){var e=(0,t.useState)(!1),n=e[0],r=e[1];(0,t.useEffect)((function(){window.addEventListener("scroll",(function(){var e=window.scrollY>400;r(!0===e)}))}),[]);return(0,s.jsx)("div",{className:"go-to-top-container",children:n?(0,s.jsx)("button",{type:"button",className:"btn shadow rounded-circle border-0",onClick:function(){return window.scrollTo({top:0,behavior:"smooth"})},children:(0,s.jsx)(o.Z,{size:22})}):null})}},20028:function(e,n,r){"use strict";r.r(n);var s=r(96156),t=r(85893),o=r(87757),c=r.n(o),a=r(92137),i=r(67294),l=r(41664),d=r(9008),u=r(39249),h=r(42283),f=r(11163),p=r(49704),m=r.n(p),j=r(86830),x=r(67477),w=r(42244),b=r(39496);function g(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,s)}return r}function v(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?g(Object(r),!0).forEach((function(n){(0,s.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}n.default=function(){var e=(0,f.useRouter)(),n=(0,h.cI)(),r=n.register,s=n.handleSubmit,o=n.formState.errors,p=(0,i.useState)(!1),g=p[0],N=p[1];localStorage.getItem("token")&&e.replace("/account");var y=function(){var n=(0,a.Z)(c().mark((function n(r){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{N(!0),console.log(r),setTimeout((function(){var n=m().sign({phone:r.phone},"MYSECRET",{expiresIn:"10d"});localStorage.setItem("token",n),N(!1),e.push("/account")}),1500)}catch(s){N(!1),u.Am.error(s)}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,t.jsxs)("div",{children:[(0,t.jsxs)(d.default,{children:[(0,t.jsx)("title",{children:"Famefair || Login"}),(0,t.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,t.jsx)(j.Z,{}),(0,t.jsx)(x.Z,{}),(0,t.jsxs)("main",{children:[(0,t.jsx)("div",{className:"auth-container",children:(0,t.jsx)("div",{className:"container",children:(0,t.jsx)("div",{className:"row",children:(0,t.jsx)("div",{className:"col-12",children:(0,t.jsxs)("div",{className:"card shadow-sm border-0",children:[(0,t.jsxs)("div",{className:"card-header text-center bg-white",children:[(0,t.jsx)("h5",{className:"mb-2",children:"Login"}),(0,t.jsx)("p",{children:"Login your account"})]}),(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsxs)("form",{onSubmit:s(y),children:[(0,t.jsxs)("div",{className:"form-group mb-4",children:[o.phone&&o.phone.message?(0,t.jsx)("small",{className:"text-danger",children:o.phone&&o.phone.message}):(0,t.jsx)("small",{children:"Phone"}),(0,t.jsx)("input",v({type:"text",className:o.phone?"form-control shadow-none error":"form-control shadow-none",placeholder:"01XXXXXXXXX"},r("phone",{required:"Phone is required"})))]}),(0,t.jsxs)("div",{className:"form-group mb-4",children:[o.password&&o.password.message?(0,t.jsx)("small",{className:"text-danger",children:o.password&&o.password.message}):(0,t.jsx)("small",{children:"Password"}),(0,t.jsx)("input",v({type:"password",className:o.password?"form-control shadow-none error":"form-control shadow-none",placeholder:"*****"},r("password",{required:"Password is required",minLength:{value:8,message:"Minimun length 8 character"}})))]}),(0,t.jsx)("button",{type:"submit",className:"btn w-100 shadow-none",disabled:g,children:g?(0,t.jsx)("span",{children:"Loading..."}):(0,t.jsx)("span",{children:"Submit"})})]}),(0,t.jsxs)("div",{className:"text-end mt-4",children:[(0,t.jsxs)("p",{className:"mb-1",children:["Have no account ? ",(0,t.jsx)(l.default,{href:"/register",children:"Register"})]}),(0,t.jsxs)("p",{children:["Forgot password ? ",(0,t.jsx)(l.default,{href:"/reset",children:"Reset"})]})]})]})]})})})})}),(0,t.jsx)(w.Z,{}),(0,t.jsx)(b.Z,{})]})]})}},84917:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(20028)}])},80950:function(){},46601:function(){},89214:function(){},8623:function(){},7748:function(){},85568:function(){},56619:function(){},77108:function(){},52361:function(){},94616:function(){}},function(e){e.O(0,[996,100,597,57,810,774,888,179],(function(){return n=84917,e(e.s=n);var n}));var n=e.O();_N_E=n}]);